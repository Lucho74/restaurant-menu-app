<div class="bg-gradient-to-b from-gray-50 to-gray-100 min-h-screen">
    <header class="top-0 px-4 sm:px-6 lg:px-10 pt-6">
        <div class="max-w-6xl mx-auto">
            <h1 class="text-4xl sm:text-5xl font-bold text-teal-700 text-center">Menüo</h1>
        </div>
    </header>
    <div class="flex flex-col items-center px-4 py-10 pb-32">
        <form class="w-full max-w-md p-0 md:p-6 md:bg-white md:rounded-2xl md:shadow-md md:border md:border-gray-200"
            (ngSubmit)="register(registerForm)" #registerForm="ngForm">
            <h2 class="text-3xl font-bold text-gray-900 text-center mb-6">Crear Cuenta</h2>
            <p class="text-sm text-gray-600 text-center mb-8">Completa los datos de tu restaurante para comenzar.</p>
            <div class="mb-5">
                <label for="email" class="block font-semibold text-gray-900 mb-2 text-sm">Email*</label>
                <input name="email" id="email" type="email" placeholder="tu@email.com" ngModel #email="ngModel"
                    required="true" autocomplete="email" pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base transition-all focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)] focus:ring-opacity-40 bg-white placeholder:text-gray-400">
                @if (!email.pristine && email.invalid) {
                <span class="block text-red-600 text-xs mt-1">Email inválido</span>
                }
            </div>

            <div class="mb-5">
                <label for="password" class="block font-semibold text-gray-900 mb-2 text-sm">Contraseña*</label>
                <input name="password" id="password" type="password" placeholder="Mínimo 4 caracteres" ngModel
                    #password="ngModel" autocomplete="new-password" required="true" minlength="4"
                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base transition-all focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)] focus:ring-opacity-40 bg-white placeholder:text-gray-400">
                @if (!password.pristine && password.invalid) {
                <span class="block text-red-600 text-xs mt-1">Mínimo 4 caracteres</span>
                }
            </div>

            <div class="mb-5">
                <label for="password2" class="block font-semibold text-gray-900 mb-2 text-sm">Repetir
                    Contraseña*</label>
                <input name="password2" id="password2" type="password" placeholder="Repetir contraseña" ngModel
                    #password2="ngModel" autocomplete="new-password" required="true"
                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base transition-all focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)] focus:ring-opacity-40 bg-white placeholder:text-gray-400">
            </div>

            <div class="mb-5">
                <label for="name" class="block font-semibold text-gray-900 mb-2 text-sm">Nombre del restaurante*</label>
                <input type="text" name="name" id="name" placeholder="Nombre de tu restaurante" ngModel required="true"
                    maxlength="50" #name="ngModel" autocomplete="name"
                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base transition-all focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)] focus:ring-opacity-40 bg-white placeholder:text-gray-400">
                @if (!name.pristine && name.invalid) {
                <span class="block text-red-600 text-xs mt-1">Nombre requerido</span>
                }
            </div>

            <div class="mb-5">
                <label for="imagenUrl" class="block font-semibold text-gray-900 mb-2 text-sm">Url de imagen</label>
                <input name="imagenUrl" id="imagenUrl" type="text" placeholder="https://ejemplo.com/imagen.jpg" ngModel
                    #imagenUrl="ngModel"
                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base transition-all focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)] focus:ring-opacity-40 bg-white placeholder:text-gray-400">
            </div>

            <div class="mb-5">
                <label for="description" class="block font-semibold text-gray-900 mb-2 text-sm">Descripción</label>
                <input name="description" id="description" type="text" placeholder="Describe tu restaurante" ngModel
                    #description="ngModel"
                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base transition-all focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)] focus:ring-opacity-40 bg-white placeholder:text-gray-400">
            </div>

            <div class="flex flex-col sm:flex-row gap-4">
                <div class="mb-5 flex-1">
                    <label for="number" class="block font-semibold text-gray-900 mb-2 text-sm">Teléfono</label>
                    <input name="number" id="number" type="text" placeholder="Número de teléfono" ngModel
                        #number="ngModel"
                        class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base transition-all focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)] focus:ring-opacity-40 bg-white placeholder:text-gray-400">
                </div>

                <div class="mb-5 flex-1">
                    <label for="address" class="block font-semibold text-gray-900 mb-2 text-sm">Dirección</label>
                    <input name="address" id="address" type="text" placeholder="Dirección del local" ngModel
                        #address="ngModel"
                        class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base transition-all focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)] focus:ring-opacity-40 bg-white placeholder:text-gray-400">
                </div>
            </div>

            <div class="flex flex-col sm:flex-row gap-4 mb-6">
                <div class="flex-1 mb-5 sm:mb-0">
                    <label for="openingTime" class="block font-semibold text-gray-900 mb-2 text-sm">Apertura*</label>
                    <input name="openingTime" id="openingTime" type="time" ngModel #openingTime="ngModel"
                        required="true"
                        class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base transition-all focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)] focus:ring-opacity-40 bg-white placeholder:text-gray-400">
                    @if (!openingTime.pristine && openingTime.invalid) {
                    <span class="block text-red-600 text-xs mt-1">Requerido</span>
                    }
                </div>

                <div class="flex-1">
                    <label for="closingTime" class="block font-semibold text-gray-900 mb-2 text-sm">Cierre*</label>
                    <input name="closingTime" id="closingTime" type="time" ngModel #closingTime="ngModel"
                        required="true"
                        class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base transition-all focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)] focus:ring-opacity-40 bg-white placeholder:text-gray-400">
                    @if (!closingTime.pristine && closingTime.invalid) {
                    <span class="block text-red-600 text-xs mt-1">Requerido</span>
                    }
                </div>
            </div>

            <div class="mb-6">
                <span class="block font-semibold text-gray-900 mb-2 text-sm">Días de atención</span>
                <div class="flex gap-2 w-full justify-between">
                    <label
                        class="flex flex-1 flex-col items-center gap-2 p-2 border-2 border-gray-200 rounded-lg cursor-pointer transition-all hover:border-[var(--primary)] focus-within:border-[var(--primary)]">
                        <input name="monday" type="checkbox" ngModel #monday="ngModel" class="m-0" aria-label="Lunes">
                        <span class="text-xs">Lun</span>
                    </label>
                    <label
                        class="flex flex-1 flex-col items-center gap-2 p-2 border-2 border-gray-200 rounded-lg cursor-pointer transition-all hover:border-[var(--primary)] focus-within:border-[var(--primary)]">
                        <input name="tuesday" type="checkbox" ngModel #tuesday="ngModel" class="m-0"
                            aria-label="Martes">
                        <span class="text-xs">Mar</span>
                    </label>
                    <label
                        class="flex flex-1 flex-col items-center gap-2 p-2 border-2 border-gray-200 rounded-lg cursor-pointer transition-all hover:border-[var(--primary)] focus-within:border-[var(--primary)]">
                        <input name="wednesday" type="checkbox" ngModel #wednesday="ngModel" class="m-0"
                            aria-label="Miércoles">
                        <span class="text-xs">Mié</span>
                    </label>
                    <label
                        class="flex flex-1 flex-col items-center gap-2 p-2 border-2 border-gray-200 rounded-lg cursor-pointer transition-all hover:border-[var(--primary)] focus-within:border-[var(--primary)]">
                        <input name="thursday" type="checkbox" ngModel #thursday="ngModel" class="m-0"
                            aria-label="Jueves">
                        <span class="text-xs">Jue</span>
                    </label>
                    <label
                        class="flex flex-1 flex-col items-center gap-2 p-2 border-2 border-gray-200 rounded-lg cursor-pointer transition-all hover:border-[var(--primary)] focus-within:border-[var(--primary)]">
                        <input name="friday" type="checkbox" ngModel #friday="ngModel" class="m-0" aria-label="Viernes">
                        <span class="text-xs">Vie</span>
                    </label>
                    <label
                        class="flex flex-1 flex-col items-center gap-2 p-2 border-2 border-gray-200 rounded-lg cursor-pointer transition-all hover:border-[var(--primary)] focus-within:border-[var(--primary)]">
                        <input name="saturday" type="checkbox" ngModel #saturday="ngModel" class="m-0"
                            aria-label="Sábado">
                        <span class="text-xs">Sáb</span>
                    </label>
                    <label
                        class="flex flex-1 flex-col items-center gap-2 p-2 border-2 border-gray-200 rounded-lg cursor-pointer transition-all hover:border-[var(--primary)] focus-within:border-[var(--primary)]">
                        <input name="sunday" type="checkbox" ngModel #sunday="ngModel" class="m-0" aria-label="Domingo">
                        <span class="text-xs">Dom</span>
                    </label>
                </div>
            </div>

            @if (errorPasswords) {
            <div class="bg-red-100 text-red-800 px-4 py-3 rounded-lg mb-4 text-sm">
                Las contraseñas no coinciden.
            </div>
            }

            @if (errorService) {
            <div class="bg-red-100 text-red-800 px-4 py-3 rounded-lg mb-4 text-sm">
                Error indeterminado, intente nuevamente.
            </div>
            }

            <div class="mt-6">
                @if (backRequest) {
                <div class="text-center text-[var(--primary)] mb-4 font-semibold">Cargando...</div>
                }
                <button type="submit"
                    class="w-full bg-teal-700 text-white border-none px-8 py-4 rounded-xl text-base font-semibold cursor-pointer transition-all hover:bg-teal-800 hover:-translate-y-0.5 disabled:bg-gray-400 disabled:cursor-not-allowed disabled:transform-none box-border"
                    [disabled]="registerForm.invalid || backRequest">
                    Crear Cuenta
                </button>
                <div class="text-center mt-4">
                    <a routerLink="/login"
                        class="inline-block text-sm font-medium text-teal-700 hover:text-teal-800 transition-colors">Ya
                        tengo una cuenta</a>
                </div>
            </div>
        </form>
    </div>
</div>